<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>云枫飒的笔记BLOG</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="云枫飒的笔记BLOG">
<meta property="og:url" content="http://yunfengsa.github.io/page/3/index.html">
<meta property="og:site_name" content="云枫飒的笔记BLOG">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="云枫飒的笔记BLOG">
  
    <link rel="alternative" href="/atom.xml" title="云枫飒的笔记BLOG" type="application/atom+xml">
  
  
    <link rel="icon" href="http://ocr299heo.bkt.clouddn.com/blogicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  
  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://ocr299heo.bkt.clouddn.com/blogicon.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">yunfengsa</a></h1>
		</hgroup>

		
		<p class="header-subtitle">个人技术记录</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/yunfengsa" title="github">github</a>
					        
								<a class="mail" target="_blank" href="/proljl1991@gmail" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/ART/" style="font-size: 10px;">ART</a> <a href="/tags/CMake/" style="font-size: 10px;">CMake</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/Dagger2/" style="font-size: 10px;">Dagger2</a> <a href="/tags/Dalvik/" style="font-size: 10px;">Dalvik</a> <a href="/tags/EventBus/" style="font-size: 10px;">EventBus</a> <a href="/tags/GC/" style="font-size: 10px;">GC</a> <a href="/tags/Lambda/" style="font-size: 10px;">Lambda</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/NDK/" style="font-size: 10px;">NDK</a> <a href="/tags/OpenCV/" style="font-size: 15px;">OpenCV</a> <a href="/tags/Ruby/" style="font-size: 15px;">Ruby</a> <a href="/tags/Rxjava/" style="font-size: 10px;">Rxjava</a> <a href="/tags/android/" style="font-size: 20px;">android</a> <a href="/tags/binder/" style="font-size: 10px;">binder</a> <a href="/tags/getsture/" style="font-size: 10px;">getsture</a> <a href="/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/octopress/" style="font-size: 15px;">octopress</a> <a href="/tags/rails/" style="font-size: 10px;">rails</a> <a href="/tags/surface/" style="font-size: 10px;">surface</a> <a href="/tags/theme/" style="font-size: 10px;">theme</a> <a href="/tags/weex/" style="font-size: 10px;">weex</a> <a href="/tags/zygote/" style="font-size: 10px;">zygote</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">Email:proljl1991@gmail.com</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">yunfengsa</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://ocr299heo.bkt.clouddn.com/blogicon.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">yunfengsa</h1>
			</hgroup>
			
			<p class="header-subtitle">个人技术记录</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/yunfengsa" title="github">github</a>
			        
						<a class="mail" target="_blank" href="/proljl1991@gmail" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-ruby-jichuyufa" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/30/ruby-jichuyufa/" class="article-date">
  	<time datetime="2015-10-30T08:14:38.000Z" itemprop="datePublished">2015-10-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/30/ruby-jichuyufa/">
        Ruby_基础语法总结篇
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>车爱讴歌,言说Ruby,想想真是…(日le gou le,本ren jue dui ai dang,货mai guo huo)<br><br><br>小白开启ruby之旅</p>
<p>###1.变量<br><strong>局部变量</strong> </p>
<ol>
<li><p>命名规则：以小写字母或者下划线开头；</p>
</li>
<li><p>Ruby中的方法调用也是以小写字母或下划线开头，而且调用的方法如果没有参数，则可以省略方法后的括号；</p>
</li>
<li><p>局部变量的定义：类、模块、方法的内部，当我们对一个以小写字母开头的变量进行赋值时，就声明了一个局部变量；离开范围局部变量消失；</p>
</li>
<li><p>允许定义顶层局部变量，但在类、方法、模块定义内仍无法访问该变量；</p>
</li>
<li><p>局部变量不可以在内部类、子类中访问；类中的方法不可以访问该类中定义的局部变量（平级）；；</p>
</li>
<li><p>在声明局部变量的类、模块、方法内，局部变量从声明该变量处开始生效，随类、方法、模块的定义结束而结束；</p>
</li>
</ol>
<p><strong>$开头：全局变量（Global variable）</strong></p>
<ol>
<li><p>命名规则：以“$”开头；可以在任何地方访问；</p>
</li>
<li><p>通常应避免使用全局变量，因为它的使用会引起各模块间的高耦合。</p>
</li>
<li><p>全局变量无需声明，引用尚未初始化的全局变量，其值为nil；</p>
</li>
<li><p>定义：可以在类、模块、方法的定义中进行全局变量的定义；</p>
</li>
<li><p>全局变量的作用范围是从全局变量的定义语句开始，直到程序结束；</p>
</li>
<li><p>动态语言的特征：当定义一个方法时，该方法根本不会被解释，只有真正调用该方法时，该方法才会被解释。</p>
</li>
<li><p>Ruby提供了一系列常用的全局变量；如；错误为止，解释器进程ID；</p>
</li>
</ol>
<p><strong>@开头：实例变量（Instance variable）</strong></p>
<ol>
<li><p>命名规则：以“@”开头；每个实例变量都是在第一次出现时动态加入对象；</p>
</li>
<li><p>实例变量通常在方法中定义；当在方法中声明实例变量时，该实例变量事实上属于该方法所在的类，而不是该方法；虽然实例变量是属于类的，但大部分时候我们都是在该类的方法里定义实例变量；</p>
</li>
<li><p>Java在创建对象时一次为该对象的所有实例变量都分配了相应的内存空间；Ruby语言里的对象完全是动态的，创建对象时该对象没有任何实例变量，直到执行到为实例变量定义时，该对象才动态增加该实例变量；</p>
</li>
<li><p>生存范围：与该类对象的生存范围相同，只要该类对象存在，则该对象里的实例变量将一直存在；但局部变量则会随着方法的消亡而消亡（除非使用闭包）；</p>
</li>
<li><p>实例变量的访问范围总是：private，即在类定义内对实例变量的赋值和读取没有限制；在类外访问实例变量时，则可以通过方法来访问；</p>
</li>
<li><p>属性定义：1.用实例变量；2.用Module的方法（四个方法：attr，attr_reader，attr_writer，attr_accessor；示例：attr：color，true；）；</p>
</li>
<li><p>在模块中定义实例变量，目的是将该实例变量混入其他类中；（模块是无法创建实例的）；</p>
</li>
<li><p>类范围内定义的实例变量是Class对象的实例变量；</p>
</li>
<li><p>实例变量永远都不能暴露为public，只能通过类方法（类名.方法名）暴露；</p>
</li>
</ol>
<p><strong>@@开头：类变量（Class variable）类变量被共享在整个继承链中</strong></p>
<ol>
<li><p>命名规则：以“@@”开头；从第一次开始赋值的地方开始生效；</p>
</li>
<li><p>定义：可以在类、模块、方法的定义中定义类变量；（在方法中定义的变量只有在该方法被调用后，该类变量才会生效）</p>
</li>
<li><p>访问：可以在类中的特殊方法、实例方法等处对类变量进行引用和赋值；</p>
</li>
<li><p>类变量必须先定义，然后才可以使用，否则异常；</p>
</li>
<li><p>类变量的特殊性：一个类、其子类、它们的实例：的同名类变量共享了同一块内存区域（都引用了同一个变量）；</p>
</li>
<li><p>可以在模块中定义类变量，所有混入该模块的类，共享该模块中定义的类变量；仍然共享内存区域；</p>
</li>
<li><p>类变量与常量：</p>
</li>
</ol>
<p>　　*类变量可以重复赋值；常量重复赋值时发出警告（不是错误）；</p>
<p>　　*类变量默认是protected的，不能在类外部直接引用；（可在继承类中以用或赋值）；类变量与实例变量：</p>
<p>　　*在类范围内定义的类变量，可以在该类的方法中访问；而实例变量则不行；</p>
<p>　　*类变量可在子类中引用或赋值，但实例变量可在类范围内直接引用或赋值；</p>
<p><strong>大写字母开头：常数（Constant）</strong></p>
<p><strong>伪变量（只读）</strong></p>
<pre><code>1. self:当前接收器对象
2. true和false
3. nil:代表undefined的值
4. \_\_FILE__:当前源文件的名称
5. \_\_LINE__:当前行在源文件中的编号
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ruby/">Ruby</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Ruby/">Ruby</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2015/10/30/ruby-jichuyufa/#more">more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-webview-chromium" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/30/webview-chromium/" class="article-date">
  	<time datetime="2015-10-30T05:12:56.000Z" itemprop="datePublished">2015-10-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/30/webview-chromium/">
        从webview看下一代Chromium OS
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Google估计要在明年把Chromium OS嵌入到android系统,并在之后发布独立的系统版本,那作为对谷歌文化的钟爱粉,今天就从4.4之后的webiew看一下Chromium吧</p>
<p>###为什么Chromium这么受关注呢<br>不陌生的Chrome浏览器的强大,人人皆知,他的多进程架构和快速打开网页的能力令人惊艳,没错,这玩意就是基于Chromiun实现的, 本身Chromiun是Google主导的一个浏览器开源工程,但是因为它的架构是OS级别的,所以基于Chromiun的Chromiun OS也就应运而生喽.</p>
<p>在android4.4的webview也是基于Chromium的,在之前其是基于webkit的.到此,应该清楚webview\chroimum\Chrome\Chromium OS的关系了吧!<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Chrome/">Chrome</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Chromium/">Chromium</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2015/10/30/webview-chromium/#more">more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-database-lianjiechi" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/30/database-lianjiechi/" class="article-date">
  	<time datetime="2015-10-30T03:36:42.000Z" itemprop="datePublished">2015-10-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/30/database-lianjiechi/">
        数据库连接池(C3P0)
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>什么是数据库连接池呢?</strong></p>
<p>简单的说:就是程序在启动的时候建立足够的连接,在程序需要连接的时候,直接在连接池中申请连接,可想而知,这对连接数据库的速度是会有很大提升..</p>
<p><strong>基本的运行机制是怎样的呢?</strong></p>
<ol>
<li>初始化的时候创建连接池</li>
<li>使用的时候向连接池请求可用的连接</li>
<li>使用结束将连接返回给连接池</li>
<li>退出程序的时候,断开所有连接并释放资源
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Database/">Database</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2015/10/30/database-lianjiechi/#more">more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-android-xinengyouhua-daima" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/29/android-xinengyouhua-daima/" class="article-date">
  	<time datetime="2015-10-29T08:22:14.000Z" itemprop="datePublished">2015-10-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/29/android-xinengyouhua-daima/">
        android_性能优化第四篇_java代码及网络
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##一 java代码</p>
<p>###方式1 降低执行时间<br>这部分主要包括缓存\数据库存储优化\算法优化\JNI\逻辑优化\需求优化</p>
<p>#####缓存<br>缓存主要包括对象缓存、IO缓存、网络缓存、DB缓存，对象缓存能减少内存的分配，IO缓存减少磁盘的读写次数，网络缓存减少网络传输，DB缓存较少Database的访问次数。<br>在内存、文件、数据库、网络的读写速度中，内存都是最优的，且速度数量级差别，所以尽量将需要频繁访问或访问一次消耗较大的数据存储在缓存中。<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/android/">android</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2015/10/29/android-xinengyouhua-daima/#more">more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-android-zhutihuanfu" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/29/android-zhutihuanfu/" class="article-date">
  	<time datetime="2015-10-29T05:15:38.000Z" itemprop="datePublished">2015-10-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/29/android-zhutihuanfu/">
        android主题切换
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###首先当然是要先设置两套主题了</p>
<p><img src="http://7xnvyl.com1.z0.glb.clouddn.com/zhuti.jpg" alt="主题.jpg"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"textLight"</span>&gt;</span>@android:color/white<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"appbg"</span>&gt;</span>@color/colorPrimaryDarkNight<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"textNight"</span>&gt;</span>@color/gray<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/theme/">theme</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/android/">android</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2015/10/29/android-zhutihuanfu/#more">more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-android-xingnengyouhua-layout" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/29/android-xingnengyouhua-layout/" class="article-date">
  	<time datetime="2015-10-29T02:02:44.000Z" itemprop="datePublished">2015-10-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/29/android-xingnengyouhua-layout/">
        android_性能优化第三篇_布局篇
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>养成良好的布局编写习惯,是一个androidUI良好表现的保证,多使用抽象布局标签,去除不必要的嵌套节点和view节点,减少inflate是关键.</p>
<p>###步骤1 抽象布局标签</p>
<p>####<include\>标签<br>这个很简单,我们平时引入header或者footer的时候,多用此标签,添加layout属性即可,若在此写入其他属性(比如layout_id等),其实就是对引入的子布局顶节点的定义.</p>
<p>####<viewstub\>标签<br>这个标签对于初学者可能用的比较少,但是这个很重要,他和include 的功能有点类似,也是用来引入外部布局. 但是这个标签默认不会扩张,即不会占用显示也不会占用位置,在解析的时候节省cpu和内存.<br><br>这个标签一般用来引入那些默认不会显示的布局.当需要显示的时候:<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/android/">android</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2015/10/29/android-xingnengyouhua-layout/#more">more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-android-xingnengyouhua-database" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/28/android-xingnengyouhua-database/" class="article-date">
  	<time datetime="2015-10-28T14:22:09.000Z" itemprop="datePublished">2015-10-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/28/android-xingnengyouhua-database/">
        android性能优化第二篇_浅谈数据库优化
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###1.数据库的优化是一个比较重要也是比较难把握的地方,我们先简单介绍一下数据库索引<br>索引,可以简单理解为目录,目录的大小要合适才会提高效率</p>
<p><strong>优点</strong><br><br>可以大幅度提高检索的速度,包括单表查询,多表查询,分组查询,排序查询.</p>
<p><strong>缺点</strong><br><br>进行数据库增删改的时候要对索引进行维护,所以会对增删改的操作影响性能.<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/android/">android</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2015/10/28/android-xingnengyouhua-database/#more">more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-java-threadpool" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/28/java-threadpool/" class="article-date">
  	<time datetime="2015-10-28T13:39:46.000Z" itemprop="datePublished">2015-10-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/28/java-threadpool/">
        浅谈java线程池
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们知道多次使用new Thread会增加系统开销,占用过多会导致oom,进程的时间也是很难把握.引用java的四种线程池可以有效控制线程的复用以及线程的执行</p>
<p>###第一种:newCachedThreadPool<br>故名思议,是一种可以缓存的线程池,可灵活回收空闲的线程<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">ExecutorService cachedThreadPool = Executors.newCachedThreadPool();</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">	<span class="keyword">final</span> <span class="keyword">int</span> index = i;</div><div class="line">	<span class="keyword">try</span> &#123;</div><div class="line">		Thread.sleep(index * <span class="number">1000</span>);</div><div class="line">	&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</div><div class="line">		e.printStackTrace();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	cachedThreadPool.execute(<span class="keyword">new</span> Runnable() &#123;</div><div class="line"></div><div class="line">		<span class="meta">@Override</span></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">			System.out.println(index);</div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>线程池本身为无限大,但是可以灵活复用.<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/android/">android</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2015/10/28/java-threadpool/#more">more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-android-xingnengyouhua" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/28/android-xingnengyouhua/" class="article-date">
  	<time datetime="2015-10-28T13:01:21.000Z" itemprop="datePublished">2015-10-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/28/android-xingnengyouhua/">
        Android_性能优化第一篇
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-基本调试工具"><a href="#1-基本调试工具" class="headerlink" title="1. 基本调试工具"></a>1. 基本调试工具</h2><p>调试工具有Traceview;使用方法:在需要调优的activity.oncreate函数添加<code>android.os.debug.startMethodTracing(&quot;test&quot;);</code><br>在ondestroy的函数添加<br><code>andorid.os.debug.stopMethodTracing();</code><br>在内存卡根目录中会生成相应的test.trace的文件,这时候在sdk tools中运行traceview.bat运行相应的trace文件就可以看到分析界面</p>
<h2 id="2-基本的优化点-主要在于思路的整理"><a href="#2-基本的优化点-主要在于思路的整理" class="headerlink" title="2. 基本的优化点(主要在于思路的整理)"></a>2. 基本的优化点(主要在于思路的整理)</h2><p><strong>1.同步改异步</strong><br>主要的是注意线程的有效管理,以及注意service和线程的选择.</p>
<p><strong>2.缓存</strong><br>缓存是一个比较负载的过程,过多的资源的分配会导致频繁的gc会影响系统响应.减少对象创建的主要方法有<em>单例模式,缓存</em><br><br>(1)单例模式<br><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  Singleton instance = <span class="keyword">null</span>;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">synchronized</span> (obj) &#123;</div><div class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</div><div class="line">                    instance = <span class="keyword">new</span> Singleton();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> instance;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>(2)缓存<br><br>主要是图片缓存,线程池缓存,连接池缓存,view缓存(典型的convertview的复用),io缓存(iobuffer的使用),消息缓存(obtainmessage的复用)<br><strong>Layout优化</strong><br>减少view的挂载点,典型的是使用布局标签(include,viewstub,merge)等等<br><strong>数据库优化</strong><br><strong>算法优化</strong><br>比如linkeslist arraylist比较  以及hashmap和arraylist 的差距等(hashmap的时间复杂度要低的多)</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/android/">android</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-octo-setting" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/28/octo-setting/" class="article-date">
  	<time datetime="2015-10-28T10:54:00.000Z" itemprop="datePublished">2015-10-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/28/octo-setting/">
        octopress个性化配置
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###增加分类栏</p>
<p>####1. 增加category_list插件<br>保存以下代码到plugins/category_list_tag.rb：<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">module</span> <span class="title">Jekyll</span></span></div><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">CategoryListTag</span> &lt; Liquid::Tag</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">render</span><span class="params">(context)</span></span></div><div class="line">      html = <span class="string">""</span></div><div class="line">      categories = context.registers[<span class="symbol">:site</span>].categories.keys</div><div class="line">      categories.sort.each <span class="keyword">do</span> <span class="params">|category|</span></div><div class="line">        posts_in_category = context.registers[<span class="symbol">:site</span>].categories[category].size</div><div class="line">        category_dir = context.registers[<span class="symbol">:site</span>].config[<span class="string">'category_dir'</span>]</div><div class="line">        category_url = File.join(category_dir, category.gsub(<span class="regexp">/_|\P&#123;Word&#125;/</span>, <span class="string">'-'</span>).gsub(<span class="regexp">/-&#123;2,&#125;/</span>, <span class="string">'-'</span>).downcase)</div><div class="line">        html &lt;&lt; <span class="string">"&lt;li class='category'&gt;&lt;a href='/<span class="subst">#&#123;category_url&#125;</span>/'&gt;<span class="subst">#&#123;category&#125;</span> (<span class="subst">#&#123;posts_in_category&#125;</span>)&lt;/a&gt;&lt;/li&gt;\n"</span></div><div class="line">      <span class="keyword">end</span></div><div class="line">      html</div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line">Liquid::Template.register_tag(<span class="string">'category_list'</span>, Jekyll::CategoryListTag)</div></pre></td></tr></table></figure></p>
<p>####2. 添加source/_includes/asides/category_list.html文件，内容如下：</p>
<p><section\> <br><br>  <h1\>文章分类</h1\> <br><br>  <ul id="categories"\><br>    <code>{\%
category_list
%\}</code><br>  </ul\>//注意要把%与{之间的’\’去掉,去掉则运行服务器的代码<br><br><br></section\></p>
<p>####3. 修改_config.yml文件，在default_asides项中添加asides/category_list.html，值之间以逗号隔开。<br>‘default_asides: [asides/category_list.html, asides/recent_posts.html]’<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/octopress/">octopress</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/octopress/">octopress</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2015/10/28/octo-setting/#more">more >></a>
        </p>
      
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2016 yunfengsa
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/winnerweb/hexo-Yilia-Smackdown" target="_blank">Yilia(Smackdown)</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>