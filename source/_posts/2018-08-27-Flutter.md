---
title: Flutter
date: 2018-08-27 16:38:38
tags: [android,flutter]
---

入职阿里之后，进入前端开发岗，对于Android的探索也停滞了，连fuchsia都快来了，Dart会不会重生我不知道，但是关于Flutter确是一个很有意思的东西。没有用过rn，但是用过weex、rax等基于js的DSL，原生渲染的框架，计算和渲染依然是原生的组件结构，整体框架结构很重，性能相比原生的会有落差，尤其在动画表现方面更是捉襟见肘。

### Info about Flutter

* 一个可以同时开发android和iOS应用的SDK
* 由Google开发的开源工具
* 专注于性能和开发体验

###基本结构
Flutter灵感来自于React，状态改变之后通过diff对比前后组件变化进行更新。
![](https://cdn.nlark.com/yuque/0/2018/png/147482/1535360870139-aa320859-2242-4b10-ac5a-51f51a405c8c.png)

### 环境搭建
基于vscode或者AS，构建过程很顺滑，还有doctor这样的神器存在，简直不要太酸爽。

### 基本demo

```dart
import 'package:flutter/material.dart';


void main() => runApp(new MaterialApp(
  title: 'hello',
  home: Count(),
));
class CounterDisplay extends StatelessWidget {
  CounterDisplay({this.count});
  final int count;
  @override
  Widget build(BuildContext context) {
    return Text('count $count');
  }
}

class AddCount extends StatelessWidget{
  AddCount({this.onPress});
  final VoidCallback onPress;
  @override
  Widget build(BuildContext context) {
    return RaisedButton(
      onPressed: onPress,
      child: Text('add count'),
    );
  }
}

class Count extends StatefulWidget{

  @override
  State createState() {
    return CountState();
  }
}

class CountState extends State<Count> {
  int _count = 0;

  void addCount() {
    setState(() {
      ++_count;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Column(children: <Widget>[
      CounterDisplay(count: _count),
      AddCount(onPress: addCount)
    ]);
  }
}


```
简单示范了一个状态组件组件用法，组件和状态是分离的，因为状态本身是一个持久存在，而组件需要随时变化。从一个基本的例子可以看出，flutter的开发需要大量的嵌套。这个也是被很多人诟病。

### 开发体验
![](https://cdn.nlark.com/yuque/0/2018/png/147482/1535362484402-5b436212-a931-4e31-942f-341172703760.png)
对于前端的学习曲线比较低

### just A App 

TODO
